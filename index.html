<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>ÿ®ÿ´ ŸÖÿ®ÿßÿ¥ÿ± ŸàŸáŸÖŸä - TikTok Style</title>
<style>
  :root{
    --bg:#000;
    --bubble: rgba(0,0,0,0.45);
    --accent: #ff3366;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);font-family:Arial,Helvetica,sans-serif;color:#fff;overflow:hidden}

  video#cam{
    position:fixed;inset:0;width:100%;height:100%;
    object-fit:cover;z-index:0;transform:scaleX(-1);
  }

  .overlay{position:fixed;inset:0;z-index:2;pointer-events:none}

  .top-left{
    position:absolute;top:10px;left:10px;
    display:flex;gap:8px;align-items:center;
    pointer-events:auto;z-index:6;
  }
  .pill{
    background:linear-gradient(180deg,rgba(0,0,0,0.5),rgba(0,0,0,0.35));
    padding:8px 12px;border-radius:20px;font-weight:700;font-size:14px;
    color:#fff;backdrop-filter: blur(4px)
  }

  .top-right-total{
    position:absolute;top:10px;right:10px;
    display:flex;gap:8px;align-items:center;z-index:6;
  }

  .right-column{
    position:absolute;right:10px;top:18%;
    display:flex;flex-direction:column;gap:12px;align-items:center;
    pointer-events:auto;z-index:6;
  }
  .like-box{
    width:56px;height:56px;border-radius:14px;background:rgba(0,0,0,0.45);
    display:flex;align-items:center;justify-content:center;flex-direction:column;
    border:1px solid rgba(255,255,255,0.06)
  }
  .like-box .count{font-size:12px;opacity:0.95}

  .float-zone{position:relative;width:64px;height:320px;overflow:visible;
    display:flex;align-items:flex-end;justify-content:center}
  .floating-heart{position:absolute;bottom:6px;right:6px;font-size:20px;
    animation:rise 2600ms linear forwards}
  @keyframes rise{
    0%{transform:translateY(0) scale(1);opacity:1}
    30%{transform:translateY(-80px) scale(1.08)}
    100%{transform:translateY(-320px) scale(.6);opacity:0}
  }

  .comments-bar{
    position:absolute;left:0;right:0;bottom:6vh;
    display:flex;justify-content:center;pointer-events:none;z-index:6;
  }
  .comments-wrap{
    width:94%;max-width:720px;
    display:flex;flex-direction:column-reverse;
    gap:8px;align-items:flex-start;
  }
  .comment{
    pointer-events:auto;background: linear-gradient(90deg, rgba(0,0,0,0.55), rgba(0,0,0,0.45));
    padding:8px 12px;border-radius:999px;display:flex;gap:10px;align-items:center;
    max-width:100%;animation:slideUp .35s ease;color:#fff;font-size:15px;
  }
  @keyframes slideUp{from{transform:translateY(18px);opacity:0}to{transform:translateY(0);opacity:1}}
  .avatar{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;
    color:#111;font-weight:700;flex-shrink:0;background:linear-gradient(120deg,#ffd1dc,#ff9aa2);
    box-shadow:0 6px 18px rgba(0,0,0,0.4);font-size:14px}
  .msg-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:70%}

  .head-gift{
    position:absolute;top:14%;left:50%;
    transform:translateX(-50%) translateY(-60%);
    z-index:8;font-size:70px;pointer-events:none;
    filter: drop-shadow(0 12px 24px rgba(0,0,0,0.45));
    opacity:0;animation:popGift .9s ease forwards;
  }
  @keyframes popGift{
    0%{transform:translateX(-50%) translateY(-60%) scale(.2);opacity:0}
    30%{transform:translateX(-50%) translateY(-66%) scale(1.12);opacity:1}
    60%{transform:translateX(-50%) translateY(-72%) scale(.95);opacity:1}
    100%{transform:translateX(-50%) translateY(-120%) scale(.6);opacity:0}
  }

  .toggle-comments{
    position:absolute;bottom:16vh;right:12px;
    background:rgba(0,0,0,0.6);color:#fff;border:none;
    border-radius:12px;padding:8px 12px;font-size:14px;
    pointer-events:auto;z-index:8;cursor:pointer;
  }

  @media (max-width:520px){
    .head-gift{top:16%;font-size:62px}
    .comments-wrap{width:96%}
    .avatar{width:34px;height:34px;font-size:13px}
    .like-box{width:52px;height:52px}
  }
</style>
</head>
<body>

  <video id="cam" autoplay playsinline muted></video>

  <div class="overlay">

    <div class="top-left">
      <div class="pill">ÿ®ÿ´ ŸÖÿ®ÿßÿ¥ÿ±</div>
      <div class="pill">üëÅÔ∏è <span id="viewerCount">1.2k</span></div>
    </div>

    <div class="top-right-total">
      <div class="pill">‚ù§Ô∏è <span id="totalLikesCount">50k</span></div>
    </div>

    <div class="right-column">
      <div class="float-zone" id="floatZone"></div>
      <div class="like-box">
        <div style="font-size:18px">‚ù§Ô∏è</div>
        <div class="count" id="likeCount">50k</div>
      </div>
    </div>

    <div class="comments-bar">
      <div class="comments-wrap" id="commentsWrap"></div>
    </div>

    <button class="toggle-comments" id="toggleCommentsBtn">ÿ•ŸäŸÇÿßŸÅ ÿßŸÑÿ™ÿπŸÑŸäŸÇÿßÿ™</button>

    <div id="headGiftArea"></div>
  </div>

<script>
/* ===== ÿßŸÑŸÉÿßŸÖŸäÿ±ÿß ===== */
const video = document.getElementById('cam');
navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" }, audio: false })
  .then(stream => video.srcObject = stream)
  .catch(()=>createFallbackStream());
function createFallbackStream(){
  const c=document.createElement('canvas');c.width=720;c.height=1280;
  const ctx=c.getContext('2d');let t=0;
  function frame(){
    t+=0.015;
    const g=ctx.createLinearGradient(0,0,c.width,c.height);
    g.addColorStop(0,`hsl(${(t*40)%360} 60% 12%)`);
    g.addColorStop(1,`hsl(${(t*20+80)%360} 60% 8%)`);
    ctx.fillStyle=g;ctx.fillRect(0,0,c.width,c.height);
    ctx.fillStyle='rgba(255,255,255,0.05)';
    ctx.font='26px sans-serif';ctx.fillText('ÿ®ÿ´ ÿ™ÿ¨ÿ±Ÿäÿ®Ÿä - ÿ®ÿØŸàŸÜ ŸÉÿßŸÖŸäÿ±ÿß',20,c.height-40);
    requestAnimationFrame(frame);
  }
  frame();video.srcObject=c.captureStream(25);
}

/* ===== ÿßŸÑŸÖÿ¥ÿßŸáÿØŸäŸÜ ===== */
let viewers=1200;
const viewerCountEl=document.getElementById('viewerCount');
function formatShort(n){
  if(n>=1e9)return (n/1e9).toFixed(1).replace('.0','')+'B';
  if(n>=1e6)return (n/1e6).toFixed(1).replace('.0','')+'M';
  if(n>=1e3)return (n/1e3).toFixed(1).replace('.0','')+'k';
  return n;
}
function updateViewers(){
  let delta=Math.floor((Math.random()-0.5)*180);
  if(Math.random()<0.08)delta+=Math.floor(100+Math.random()*8000);
  viewers=Math.max(200,Math.min(1.5e9,viewers+delta));
  viewerCountEl.textContent=formatShort(viewers);
}
setInterval(updateViewers,1400);

/* ===== ÿßŸÑŸÑÿßŸäŸÉÿßÿ™ ===== */
let likes=50000;
const likeCountEl=document.getElementById('likeCount');
const totalLikesEl=document.getElementById('totalLikesCount');
function incLikes(n=1){
  likes+=Math.round(n);
  likeCountEl.textContent=formatShort(likes);
  totalLikesEl.textContent=formatShort(likes);
}
setInterval(()=>{incLikes(1+Math.floor(Math.random()*4));spawnFloatingHeart();},600);

/* ===== ÿßŸÑŸÇŸÑŸàÿ® ===== */
const floatZone=document.getElementById('floatZone');
function spawnFloatingHeart(){
  const el=document.createElement('div');
  el.className='floating-heart';
  el.style.fontSize=(16+Math.random()*26)+'px';
  el.textContent=Math.random()<0.7?'‚ù§Ô∏è':'üíñ';
  floatZone.appendChild(el);
  setTimeout(()=>el.remove(),2800);
}

/* ===== ÿßŸÑÿ™ÿπŸÑŸäŸÇÿßÿ™ ===== */
let commentsEnabled=true;
const toggleBtn=document.getElementById('toggleCommentsBtn');
toggleBtn.addEventListener('click',()=>{
  commentsEnabled=!commentsEnabled;
  toggleBtn.textContent=commentsEnabled?'ÿ•ŸäŸÇÿßŸÅ ÿßŸÑÿ™ÿπŸÑŸäŸÇÿßÿ™':'ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿ™ÿπŸÑŸäŸÇÿßÿ™';
});
const commentsWrap=document.getElementById('commentsWrap');
const names=["ÿØŸÜŸäÿß","ÿπŸÑŸä","ÿ≥ÿßÿ±ÿ©","ŸÖÿ≠ŸÖŸàÿØ","ŸÜŸàÿ±ÿß","ÿÆÿßŸÑÿØ","ÿ≠ÿ≥ŸÜ","ŸÑŸäŸÑŸâ","ŸäŸàÿ≥ŸÅ","ÿ£ÿ≠ŸÖÿØ","ŸÖŸÜÿ©","Ÿáÿßÿ¨ÿ±","ÿπŸÖÿ±"];
const msgs=[
  "ŸÖŸÜŸàÿ± ÿßŸÑÿØŸÜŸäÿß ‚ù§Ô∏è","ÿßŸÑÿ®ÿ´ ŸÜÿßÿ± üî•","ÿ¨ÿßŸÖÿØ ÿ£ŸàŸä Ÿäÿß ŸÜÿ¨ŸÖ üëë","ÿ∂ÿ≠ŸÉŸÜŸä üòÇ","ŸÅŸäŸÜŸÉ ŸÖŸÜ ÿ≤ŸÖÿßŸÜ üòç","ÿßÿ≥ÿ™ŸÖÿ± Ÿäÿß ÿ£ÿ≥ÿ∑Ÿàÿ±ÿ© üí™",
  "ÿØŸá ÿßŸÑÿ®ÿ´ ÿßŸÑŸÖŸÜÿ™ÿ∏ÿ± üî•üî•","ÿ™ÿ≠ŸÅÿ© ŸàÿßŸÑŸÑŸá üòç","ŸÖÿ¥ ŸÇÿßÿØÿ± ÿ£ÿ®ÿ∑ŸÑ ÿ∂ÿ≠ŸÉ üòÇ","ÿßŸÜÿ™ ÿπÿ≥ŸÑ üêù","ÿßŸÑŸÜÿßÿ≥ ŸÉŸÑŸáÿß ŸáŸÜÿß üëã",
  "ÿÆÿ±ÿßŸÅÿ© ÿßŸÑÿ®ÿ´ üò±","ŸäÿÆÿ±ÿ® ÿ®Ÿäÿ™ ÿßŸÑÿ¨ŸÖÿßŸÑ ÿØÿß üòç","ÿ£ŸÜÿß ŸÖÿ™ÿßÿ®ÿπŸÉ ŸÖŸÜ ÿ≤ŸÖÿßŸÜ ‚ù§Ô∏è","ÿ®ÿ´ ÿπÿßŸÑŸÖŸä üåç","ÿ™ÿ≠Ÿäÿ© ŸÖŸÜ ŸÖÿµÿ± üá™üá¨",
  "ÿ¨ŸÖŸäŸÑ ÿ£ŸàŸä ÿ®ÿ¨ÿØ üåπ","ŸÖŸäŸÜ ÿ≤ŸäŸÉÿü üëë","ÿÆÿØ ŸÇŸÑÿ®Ÿä ‚ù§Ô∏è","ÿ∂ÿ≠ŸÉÿ© ŸÖŸÜ ÿßŸÑÿ¢ÿÆÿ± üòÇ","ŸÉŸÖŸÑ Ÿäÿß ŸÜÿ¨ŸÖ ‚ú®","ÿØÿß ÿßŸÑÿ®ÿ´ ÿßŸÑŸÑŸä ŸÖÿ≥ÿ™ŸÜŸäŸá üí•",
  "ÿπÿßŸÖŸÑ ÿ•ŸäŸá Ÿäÿß ÿ≠ÿ®Ÿäÿ®ŸÜÿß ‚ù§Ô∏è","ŸÜŸàÿ±ÿ™ ÿßŸÑÿ¥ÿßÿ¥ÿ© üí°","ÿπÿ∏ŸÖÿ© ÿπŸÑŸâ ÿπÿ∏ŸÖÿ© üí™","ÿ≠ŸÑŸà ÿßŸÑŸÉŸÑÿßŸÖ ÿØÿß üëè","ŸÖÿ¥ ÿ∑ÿ®ŸäÿπŸä üòÇüî•",
  "ÿßŸÜÿ™ ÿπÿßŸÑŸÖŸä üåé","ŸÉŸÑ ÿ´ÿßŸÜŸäÿ© ÿ£ÿ¨ŸÖŸÑ ŸÖŸÜ ÿßŸÑÿ™ÿßŸÜŸäÿ© üíû","ÿßÿ≥ÿ™ŸÖÿ± ÿ®ŸÇŸâ üí™","ŸÖÿ¥ ŸÇÿßÿØÿ± ÿ£ŸàŸÇŸÅ ÿ™ŸÅÿ±ÿ¨ üòÇ","ÿ≠ŸÖÿßÿ≥ üî•üî•üî•",
  "Ÿäÿß ÿ¨ÿØÿπ ÿ•ŸäŸá ÿßŸÑÿ¨ŸÖÿßŸÑ ÿØÿß üòç","ŸÜŸàÿ±ÿ™ ÿßŸÑÿØŸÜŸäÿß üåü","Ÿäÿß ÿ±ÿßŸäŸÇ üòÇ","ÿ≠ŸÉÿßŸäÿ© ŸàÿßŸÑŸÑŸá üí´","ÿÆÿ±ÿßŸÅÿ© ÿßŸÑÿ®ÿ´ ÿØÿß üí£","ÿ™ÿ≠Ÿäÿ© ŸÉÿ®Ÿäÿ±ÿ© ‚ù§Ô∏è",
  "ÿ∂ÿ≠ŸÉÿ© ŸÖŸÑŸäÿßŸÜÿ© ÿ∑ÿßŸÇÿ© üòÇ","ŸÖŸÜŸàÿ± Ÿäÿß ÿ¨ÿßŸÖÿØ üî•","ŸÇŸÑÿ®Ÿä ŸàŸÇÿπ ‚ù§Ô∏è","ÿ®ÿ´ ŸÜÿßÿ±Ÿä üî•üî•üî•","ÿßŸÜÿ™ ŸÅÿÆŸÖ üëë","ÿßŸÑŸÑŸá ÿπŸÑŸäŸÉ Ÿäÿß ÿ¨ŸÖŸäŸÑ üí´"
];
function addComment(name,text){
  const row=document.createElement('div');
  row.className='comment';row.style.opacity='0';
  const ava=document.createElement('div');ava.className='avatar';
  ava.textContent=name[0];
  const txt=document.createElement('div');txt.className='msg-text';
  txt.textContent=`${name}: ${text}`;
  row.appendChild(ava);row.appendChild(txt);
  commentsWrap.appendChild(row);
  requestAnimationFrame(()=>row.style.opacity='1');
  if(commentsWrap.children.length>18)commentsWrap.removeChild(commentsWrap.firstChild);
  setTimeout(()=>{
    row.style.transition='opacity .4s, transform .4s';
    row.style.opacity='0';row.style.transform='translateY(12px)';
    setTimeout(()=>row.remove(),450);
  },6000+Math.random()*6000);
}
setInterval(()=>{
  if(!commentsEnabled)return;
  for(let i=0;i<3;i++){
    const n=names[Math.floor(Math.random()*names.length)];
    const m=msgs[Math.floor(Math.random()*msgs.length)];
    addComment(n,m);
    incLikes(300 + Math.floor(Math.random() * 1500));
    spawnFloatingHeart();
  }
},500);

/* ===== ÿßŸÑŸáÿØÿßŸäÿß ===== */
const headGiftArea=document.getElementById('headGiftArea');
function showHeadGift(){
  const el=document.createElement('div');
  el.className='head-gift';el.textContent='üåπüíñ';
  headGiftArea.appendChild(el);
  setTimeout(()=>el.remove(),900);
  incLikes(200 + Math.floor(Math.random()*800));
  viewers=Math.min(1.5e9,viewers+Math.floor(100+Math.random()*500));
  viewerCountEl.textContent=formatShort(viewers);
}
setInterval(()=>{if(Math.random()<0.35)showHeadGift();},4200);
</script>
</body>
</html>
